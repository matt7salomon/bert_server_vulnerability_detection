# bert_server_vulnerability_detection

How It Works:

	1.	Log Preprocessing:
	•	Each log line is parsed to extract IP, URL, status code, and user agent information.
	2.	BERT Encoding:
	•	The relevant information from each log (URL, status code, user agent) is passed into the BERT model for encoding.
	•	The output of the BERT model is the embedding of each log, which represents its features in a high-dimensional space.
	3.	Binary Classification Model:
	•	The embeddings are passed through a simple neural network to classify the log as potentially vulnerable (1) or safe (0).

Improving the Model:

	•	Use Pretrained Models: Fine-tune the BERT model with a dataset labeled for security vulnerabilities.
	•	Anomaly Detection: Instead of classifying the logs, you could perform unsupervised anomaly detection, flagging unusual patterns in the log data.


# Server intrusion detection code

1. Preprocessing the Data

	•	The preprocess_data function gets the data ready to be analyzed:
	•	IP addresses (like 192.168.1.1) are turned into numbers using a helper function called ip_to_int. This helps computers work with the data more easily.
	•	It also scales the numbers to a consistent size using something called StandardScaler. This makes sure big numbers don’t overwhelm small numbers when the model looks for patterns.

2. Anomaly Detection with Z-Score

	•	Z-Score is used to find weird traffic based on how much data is sent and received. The idea is to check how far the data is from the average (the “normal” data).
	•	If a packet is too far from the normal range, it might be suspicious.

3. Robust Z-Score Detection

	•	This is a special, more resistant method (called Robust Z-Score) to find anomalies that won’t be affected by extreme outliers (really strange data).
	•	It uses the median (middle value) and something called MAD (mean absolute deviation), which is another way of calculating how weird the data is.

4. Isolation Forest Anomaly Detection

	•	The main technique here is Isolation Forest, which is like a game where the computer tries to “cut” out anomalies from the data. If something looks different from most data, it will get detected as an anomaly.

5. Detecting Specific Types of Attacks

	•	The code also includes two functions to find specific types of cyber attacks:
	•	detect_port_scan: This function tries to find port scans (when someone tries to figure out which services are open on a network).
	•	detect_dos: This looks for Denial of Service (DoS) attacks, where lots of data is sent to overload a system.

6. Visualizing Results

	•	The function visualize_anomalies shows a visual representation (graphs) of where the weird behaviors (anomalies) happened. There are three different graphs showing the results of:
	•	Isolation Forest
	•	Z-Score
	•	Robust Z-Score

7. Main Program

	•	Finally, the program puts everything together:
	•	Generates data
	•	Preprocesses it
	•	Detects anomalies using the different methods
	•	Shows the results, including potential cyber attacks like port scans and DoS attacks
	•	Visualizes what the program found, so you can easily see the anomalies.
